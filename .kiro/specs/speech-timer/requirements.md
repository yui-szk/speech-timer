# Requirements Document

## Introduction

スピーチタイマーは、研究発表や講評時に発表時間を正確に計測し、視覚と聴覚で残り時間を分かりやすく通知するWebアプリケーションです。発表者が時間を意識しながら円滑に発表を進められるよう、シンプルで直感的なインターフェースと必要十分な機能を提供します。

## Requirements

### Requirement 1

**User Story:** 発表者として、残り時間を一目で把握できるタイマーが欲しい。発表に集中しながらも時間管理ができるようになりたい。

#### Acceptance Criteria

1. WHEN ユーザーがメイン画面を開く THEN システムは大きな数字で残り時間を表示する SHALL
2. WHEN タイマーが動作中 THEN システムは円形プログレスバーで時間の経過を視覚的に表示する SHALL
3. WHEN ユーザーが時間表示をクリック THEN システムは分:秒形式（mm:ss）で時間編集モードに入る SHALL
4. WHEN 残り時間が0になる THEN システムはタイマーを停止し完了状態を表示する SHALL

### Requirement 2

**User Story:** 発表者として、1令・2令・3令のベル通知を設定したい。重要なタイミングで音声通知を受けて発表の進行を調整したい。

#### Acceptance Criteria

1. WHEN ユーザーがベル時間を設定する THEN システムは1令・2令・3令それぞれの残り時間しきい値を保存する SHALL
2. WHEN タイマーが設定されたベル時間に到達する THEN システムは対応するベル音を再生する SHALL
3. WHEN ユーザーがベル設定をON/OFF切り替える THEN システムは各ベルの有効/無効状態を保存する SHALL
4. WHEN ユーザーがベルテストボタンを押す THEN システムは即座にベル音を再生する SHALL
5. WHEN 同じベル時間に複数回到達する THEN システムは重複してベルを鳴らさない SHALL

### Requirement 3

**User Story:** 発表者として、タイマーを開始・一時停止・リセットできる操作が欲しい。発表の状況に応じて柔軟にタイマーを制御したい。

#### Acceptance Criteria

1. WHEN ユーザーが再生ボタンを押す THEN システムはタイマーを開始または再開する SHALL
2. WHEN タイマーが動作中にユーザーが一時停止ボタンを押す THEN システムはタイマーを一時停止する SHALL
3. WHEN ユーザーがリセットボタンを押す THEN システムはタイマーを初期状態に戻す SHALL
4. WHEN ユーザーがSpaceキーを押す THEN システムは再生/一時停止を切り替える SHALL
5. WHEN ユーザーがRキーを押す THEN システムはタイマーをリセットする SHALL

### Requirement 4

**User Story:** ユーザーとして、自分の好みに合わせてアプリの設定をカスタマイズしたい。使いやすい環境で発表に集中したい。

#### Acceptance Criteria

1. WHEN ユーザーが設定画面を開く THEN システムはテーマ、ベル音、プログレス表示モードの設定オプションを表示する SHALL
2. WHEN ユーザーがプログレス表示を「経過時間」に変更する THEN システムは円形プログレスバーと表示を経過時間ベースに切り替える SHALL
3. WHEN ユーザーが音量を調整する THEN システムはベル音の音量を0-100%の範囲で設定する SHALL
4. WHEN ユーザーが設定を変更する THEN システムは設定をlocalStorageに自動保存する SHALL
5. WHEN ユーザーがアプリを再起動する THEN システムは保存された設定を復元する SHALL

### Requirement 5

**User Story:** モバイルデバイスユーザーとして、スマートフォンで使いやすいインターフェースが欲しい。外出先でも快適に使用したい。

#### Acceptance Criteria

1. WHEN ユーザーがモバイルデバイスでアクセス THEN システムは360-430px幅で最適化されたレイアウトを表示する SHALL
2. WHEN ユーザーがボタンをタップ THEN システムは44×44px以上のタップ領域を提供する SHALL
3. WHEN ユーザーがタブレットやデスクトップでアクセス THEN システムはレスポンシブに適応したレイアウトを表示する SHALL
4. WHEN 画面サイズが変更される THEN システムは流体タイポグラフィで文字サイズを調整する SHALL

### Requirement 6

**User Story:** アクセシビリティが必要なユーザーとして、キーボード操作や視覚的配慮のあるインターフェースが欲しい。誰でも使えるアプリであってほしい。

#### Acceptance Criteria

1. WHEN ユーザーがキーボードで操作 THEN システムは全ての機能をキーボードのみで操作可能にする SHALL
2. WHEN ユーザーがフォーカスを移動 THEN システムは明確なフォーカスリングを表示する SHALL
3. WHEN 色覚に配慮が必要なユーザーが使用 THEN システムは色だけでなく形状や位置でも情報を伝える SHALL
4. WHEN スクリーンリーダーユーザーが使用 THEN システムは適切なARIAラベルと役割を提供する SHALL

### Requirement 7

**User Story:** ユーザーとして、正確な時間計測ができるタイマーが欲しい。発表時間の管理で信頼できる精度を求める。

#### Acceptance Criteria

1. WHEN タイマーが1分間動作 THEN システムの誤差は±50ms以内に収める SHALL
2. WHEN タイマーが動作中 THEN システムは60fpsでスムーズな表示更新を維持する SHALL
3. WHEN ユーザーが一時停止と再開を繰り返す THEN システムは累積時間を正確に計算する SHALL
4. WHEN ブラウザタブが非アクティブになる THEN システムは時間計測を継続する SHALL